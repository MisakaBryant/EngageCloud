# 云原生大作业实验报告

## 实验环境
- JDK 1.8
- spring boot 2.3.1.RELEASE

## 实验内容

### 1. 实现一个 REST 接口，接口提供限流功能
```java
@RestController
public class RESTController {

    //计数器限流100次/s
    private static final RateLimiter limiter = RateLimiter.create(1.0);

    @GetMapping("/")
    public ResponseEntity index() {
        if (limiter.tryAcquire()) {
            return new ResponseEntity("Hello");
        }
        throw new TooMantRequestException("Too Many Request");
    }

}
```

### 2. 为该项目准备 Dockerfile，用于构建镜像
```dockerfile
FROM eclipse-temurin:8u372-b07-jre-centos7

ADD ./target/application.jar /app/application.jar

ADD runboot.sh /app/

WORKDIR /app

RUN chmod a+x runboot.sh

CMD sh -c /app/runboot.sh
```